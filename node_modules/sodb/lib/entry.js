(function() {
  var Entry;

  module.exports = Entry = (function() {
    Entry.prototype.___id = null;

    function Entry(object, ___id) {
      var i, key, len, ref;
      this.object = object;
      this.___id = ___id;
      ref = Object.keys(this.object);
      for (i = 0, len = ref.length; i < len; i++) {
        key = ref[i];
        this[key] = this.object[key];
      }
    }

    Entry.prototype.keys = function() {
      var keys;
      keys = Object.keys(this);
      delete keys[keys.indexOf('___id')];
      delete keys[keys.indexOf('object')];
      return keys;
    };

    Entry.prototype.changed = function() {
      var changed, i, key, len, ref;
      changed = false;
      ref = this.keys();
      for (i = 0, len = ref.length; i < len; i++) {
        key = ref[i];
        if (this[key] !== this.object[key]) {
          changed = true;
        }
      }
      return changed;
    };

    Entry.prototype.updateObject = function() {
      var i, key, len, ref, results;
      ref = this.keys();
      results = [];
      for (i = 0, len = ref.length; i < len; i++) {
        key = ref[i];
        results.push(this.object[key] = this[key]);
      }
      return results;
    };

    return Entry;

  })();

}).call(this);
